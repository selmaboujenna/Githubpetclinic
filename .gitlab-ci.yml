stages:
  - build
  - move
  - execute
  - deploy

default:
  tags:
    - pet

build-job:
  stage: build
  script: "mvn package"

move-job:
  stage: move
  script: "cp target/petclinic.war /opt/tomcat/webapps"

execute-job:
  stage: execute
  script: "opt/tomcat/bin/catalina.sh"

deploy-prod:
  stage: deploy
  script: "run"
